version: "3.1"

intents:
  - greet
  - goodbye
  - affirm
  - deny
  - ask_rules
  - mood_great
  - mood_unhappy
  - bot_challenge
  - button_test
  - ask_poker_rules
  - ask_blackjack_rules
  - ask_roulette_odds
  - select_option

entities:
  - option

slots:
  option:
    type: text
    mappings:
      - type: from_entity
        entity: option
  action_before_listen:
    type: text
    mappings:
      - type: from_entity
        entity: option


responses:
  utter_greet:
    - text: "Hey! How are you?"


  utter_ask_rules:
    - text: "Which game would you like to learn about?"
      buttons:
        - title: "Poker Rules"
          payload: /ask_poker_rules
        - title: "Blackjack"
          payload: /ask_blackjack_rules
        - title: "Roulette Odds"
          payload: /ask_roulette_odds

  utter_poker_rules:
    - text: "Poker is a card game that combines gambling, strategy, and skill. What would you like to know next?"
      buttons:
        - title: "Basic rules"
          payload: /select_option{"option":"basic rules"}
        - title: "Advanced strategies"
          payload: /select_option{"option":"advanced strategies"}

  utter_blackjack_rules:
    - text: "Blackjack is a card game where you aim to beat the dealer by having cards worth 21 points or less. What would you like to know next?"
      buttons:
        - title: "Basic rules"
          payload: /select_option{"option":"basic rules"}
        - title: "Card counting"
          payload: /select_option{"option":"card counting"}

  utter_roulette_odds:
    - text: "Roulette odds depend on the type of bet placed. What would you like to know next?"
      buttons:
        - title: "Odds of specific bets"
          payload: /select_option{"option":"odds of specific bets"}
        - title: "Best strategies"
          payload: /select_option{"option":"best strategies"}

  utter_more_info:
    - text: "Here's more about {option}. What would you like to learn about next?"
      buttons:
        - title: "Back to main menu"
          payload: /greet
        - title: "Quit"
          payload: /stop

  utter_cheer_up:
    - text: "Here is something to cheer you up:"
      image: "https://i.imgur.com/nGF1K8f.jpg"

  utter_did_that_help:
    - text: "Did that help you?"

  utter_happy:
    - text: "Great, carry on!"

  utter_goodbye:
    - text: "Bye"

  utter_iamabot:
    - text: "I am a bot, powered by Rasa."

  utter_button_test:
    - text: "Here is a button."
      buttons:
        - title: "Option 1"
          payload: "/select_option"
        - title: "Option 2"
          payload: "/select_option"



actions:
  - utter_greet
  - utter_ask_rules
  - action_poker_rules
  - action_blackjack_rules
  - action_roulette_odds
  - action_show_more_info
  - utter_cheer_up
  - utter_did_that_help
  - utter_happy
  - utter_goodbye
  - utter_iamabot
  - utter_button_test
  - action_session_start

utter_button_test:
  - text: "This is a test of buttons."
    buttons:
      - title: "This button is a link to Google"
        type: "web_url"
        url: "https://www.google.com"
      - title: "This button is a link to goodbye"
        payload: "/goodbye"

session_config:
  session_expiration_time: 60
  carry_over_slots_to_new_session: true
